#!/bin/sh

# Check if a branch name was provided
if [ -z "$1" ]; then
  echo "Error: Branch name not provided."
  exit 1
fi

# Check if the argument already starts with "task-"
if [[ "$1" == "task-"* ]]; then
    TASK_BRANCH_NAME="$1"
else
    TASK_BRANCH_NAME="task-$1"
fi

# Attempt to delete the branch if it exists, ignoring errors
git branch -d "$TASK_BRANCH_NAME" 2>/dev/null || true

# Create the new branch
git branch "$TASK_BRANCH_NAME"

echo "Branch '$TASK_BRANCH_NAME' created."
